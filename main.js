(()=>{"use strict";var e=[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}],t=document.querySelector("#card-template").content;function n(e,n,o,r){var c=t.querySelector(".card").cloneNode(!0),d=c.querySelector(".card__image"),i=c.querySelector(".card__title"),u=c.querySelector(".card__delete-button"),a=c.querySelector(".card__like-button");return d.src=e.link,d.alt=e.name,i.textContent=e.name,d.addEventListener("click",(function(){r(e)})),u.addEventListener("click",(function(){n(c)})),a.addEventListener("click",(function(){o(c)})),c}function o(e){e.querySelector(".card__like-button").classList.toggle("card__like-button_is-active")}function r(e){e.remove()}function c(e){e.classList.add("popup_is-opened"),document.addEventListener("keydown",i)}function d(){document.querySelector(".popup_is-opened").classList.remove("popup_is-opened"),document.removeEventListener("keydown",i)}function i(e){"Escape"===e.key&&(document.querySelector(".popup_is-opened"),d())}var u=document.querySelector(".profile__edit-button"),a=document.querySelector(".popup_type_edit"),p=document.querySelector(".profile__add-button"),l=document.querySelector(".popup_type_new-card");document.querySelectorAll(".popup").forEach((function(e){e.classList.add("popup_is-animated")}));var s=document.querySelector(".places__list"),m=document.querySelector(".profile__title"),f=document.querySelector(".profile__description"),_=document.querySelector(".popup_type_image"),v=_.querySelector(".popup__image"),y=_.querySelector(".popup__caption"),k=document.forms["edit-profile"],q=document.forms["new-place"];function S(e){v.src=e.link,v.alt=e.name,y.textContent=e.name,c(_)}document.addEventListener("DOMContentLoaded",(function(){!function(e,t){t.innerHTML="",e.forEach((function(e){var c=n(e,r,o,S);t.append(c)}))}(e,s)})),u.addEventListener("click",(function(){k.name.value=m.textContent,k.description.value=f.textContent,c(a)})),p.addEventListener("click",(function(){c(l)})),document.querySelectorAll(".popup__close").forEach((function(e){e.addEventListener("click",d)})),document.querySelectorAll(".popup").forEach((function(e){e.addEventListener("click",(function(t){t.target===e&&d()}))})),k.addEventListener("submit",(function(e){e.preventDefault(),m.textContent=k.name.value,f.textContent=k.description.value,d()})),q.addEventListener("submit",(function(e){!function(e){e.preventDefault();var t=q.elements["place-name"].value,c=q.elements.link.value;s.prepend(n({name:t,link:c},r,o,S)),d()}(e)}))})();